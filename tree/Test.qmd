---
title: Test of envs
author: "Yiheng Du"
date:  today
output: html_document
---

# The Result of Text in different envs

```{python}
from Bio import AlignIO
from Bio.Align.Applications import MafftCommandline
from io import StringIO
import subprocess

# 读取FASTA文件
fasta_file = "./arb-silva.de_2024-06-18_id1333196_gapcompressedvertical.fasta"

# 运行MAFFT进行多序列比对
mafft_cline = MafftCommandline(input=fasta_file)
stdout, stderr = mafft_cline()

# 将比对结果保存到文件
alignment_file = "./aligned_sequences.fasta"
with open(alignment_file, "w") as handle:
    handle.write(stdout)

# 运行FastTree构建系统发育树
fasttree_cline = f"FastTree -nt {alignment_file} > ./phylogenetic_tree.newick"
subprocess.run(fasttree_cline, shell=True)

# 读取并显示系统发育树
with open("./phylogenetic_tree.newick", "r") as tree_file:
    phylogenetic_tree = tree_file.read()

print(phylogenetic_tree)

```
